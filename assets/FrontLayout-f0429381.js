import{_ as x,R as k,a as C,L as P,m as R,b,r as _,o as a,c as n,d as i,e as t,w as r,f as g,g as L,v as S,F as m,h as v,i as I,t as d,j as D,k as u}from"./index-060bb3e5.js";import{c as h}from"./cart-b05996ed.js";import{S as E}from"./sweetalert2.all-bd93a4f7.js";const T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAJFBMVEVMaXFpb0tqb0tpb0tpb0tpb0tqcEzt4dGcm37Ty7eAg2K4s5tPs7cbAAAABnRSTlMA104drINMRZqKAAAACXBIWXMAAAPoAAAD6AG1e1JrAAADW0lEQVR4nO1b2ZLjIAzkBsP//+/W5rCxIyRxOGSq6KfUTEg3ukyEIsTCwsLCwsIfhVbKGiOfMMYqpb9Ibo0DII39hggFkh8i1K3s2kpH4j4NisH+tIOaSn+PBFVDP16CRiOvADMuJ6xrgx1Dr2utf0COMIJyPVDTzD/KDcb1wkxy/5BA0CP4OxToMfztCuQg/lYFZhh/WySagfwtCuxQ/vp6oAbz19ZEPS4A2wLRDOevCwN1A3+VE2QHTQwhhAj9R34hA2La/ANb7MgE3U7vD0AK9PgIjHEniq/Nv7A1x6FmUoe3uf2WgnP57h8IrSYwHPpw3i6EVhPoMfSwAI4JLEl/cXYRri0RJLl9YuMJs4DsL4IJ5w8uvl6ltnJo+vj9tr8DygJGGLoa/i39xyX/3y/AcuxcnwdSzrRvMUJZAYYA7QPLjb9Lsf/MDNgDZB5IVMCGfHzgGYDIA810AOTfyDIAUYsUxn8wwPEVOQYggsCyDFCI79wLZQPgQWAwAR6tMKcYQQyAVwKJLNz3V3xH5BgAj0KHAK9w5xgoGwkvRRpbR0VAlqSIlfA00MiySLn3VKVjmwDFCIGSB86FCAsCdYuA4O8WkNhFiIrCOwREP1dA9HMFxCMB030CQjm8sqc0lSsDBCSEP9HlEhegGwpRbv9DTGMh0vWlOOPfsmjEPgg7kTgEYHyd+eH3XNH9OI4Zvz/xx+7HsUEW7ntN4Ck5NxLqAdN4JAsHWfh8/m2nt6AeQI9kimGAXcFW4kdzAD+Uao4BngpimR81ANEikKVlJ37vUy4onf2BnUjJL+iWZYCLmEvPBEsB8quZKixDmiLh6A4y+MkGgQOxJ/inkO3yJzwAyK/nwhBPIqo/RPGTDQpFHAZCHz+jYy2hZe99Uw0awv+shrWF1nkWwA51dZtOYxZA6cntM3u1pkkAi57XsNfAwo/QS85dmtUs8Pr1BlhZcnbWrh93baSJk3+q4TyBe3FmIQXvu5h2+orLS1l3G8WE/EPXdmL2xaWYfnUrZl9ei+nX92L6AIOYPsIhpg+xiOljPGL2IJOYPsolpg+zifnjfGL6QKOYPtIppg+1ivljvWL6YPMPjHb/wHD7D4z3P6CMnPgDhye0BUV86Scev/Ajl4WFhYWFBTES/wA3UscMvP62DgAAAABJRU5ErkJggg==";const{VITE_URL:V,VITE_PATH:M}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"tomyalan978",BASE_URL:"/vite-deploy-6",MODE:"production",DEV:!1,PROD:!0,SSR:!1},B={data(){return{products:[],product_id:"",searchText:"",productName:[],showRecommendations:!1,foundProductArray:[],color:"#956134",fullPage:!0,loader:"bars"}},components:{RouterView:k,RouterLink:C,Loading:P},computed:{...R(h,["carts","cartList","cartNum","loadingShow"]),filteredProduct(){return this.productName.filter(s=>s.toLowerCase().includes(this.searchText.toLocaleLowerCase()))}},methods:{...b(h,["getCart"]),...b(h,["deleteItem"]),...b(h,["adjustmentTicket"]),...b(h,["cartCount"]),getProducts(){this.$http(`${V}/v2/api/${M}/products/all`).then(s=>{console.log(s),this.products=s.data.products,this.productName=this.products.map(o=>o.title)})},search(){this.searchText===""?this.showRecommendations=!1:this.showRecommendations=!0},searchName(){let s=this.searchText,o=this.products.find(p=>p.title===s);o?(this.product_id=o.id,this.$router.push({name:"product-detail",params:{id:`${this.product_id}`}})):E.fire({position:"top-end",title:"找不到該產品",showConfirmButton:!1,timer:1500})},updateSearchQuery(s){this.searchText=s;let o=this.products.find(p=>p.title===this.searchText);o&&(this.product_id=o.id,this.$router.push({name:"product-detail",params:{id:this.product_id}})),this.showRecommendations=!1},routerLook(){this.$router.push({path:"/products"})}},mounted(){this.getProducts(),this.getCart()}},N={class:"navbar navbar-expand-lg navbar-light bg-primary"},j={class:"container"},O=t("a",{class:"navbar-brand",href:"#"},[t("img",{src:T,style:{width:"85px",height:"85px"},alt:""})],-1),U=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),H={class:"collapse navbar-collapse",id:"navbarSupportedContent"},J={class:"navbar-nav me-auto mb-2 mb-lg-0"},Y={class:"nav-item"},F={class:"nav-item"},Q={key:0,class:"list-group active"},W=["onClick"],G=t("button",{class:"btn btn-outline-success me-1",type:"submit"},"Search",-1),K={class:"btn btn-primary border-none position-relative",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},Z=t("i",{class:"bi bi-bag"},null,-1),z={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},q={class:"offcanvas offcanvas-end overflow-auto vl-parent",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel",ref:"formContainer"},X=t("div",{class:"offcanvas-header border-bottom bg-success text-white"},[t("h5",{id:"offcanvasRightLabel "}," 購物車 "),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),$={key:0,class:"offcanvas-body bg-primary text-center"},tt=t("h5",{class:"text-center"},"購物車沒有品項",-1),st={key:1,class:"offcanvas-body bg-primary"},et={class:"list-unstyled"},ot={class:"w-25"},at=["src"],nt={class:"w-75 ms-3"},it={class:"h6 mb-1"},ct=t("p",{class:"fw-bold text-dark"},null,-1),lt={class:"d-flex justify-content-between align-items-end"},rt={class:"fw-bold"},dt=["onClick"],ut=t("i",{class:"bi bi-dash fs-6"},null,-1),ht=[ut],pt={class:"fs-6"},ft=["onClick"],bt=t("i",{class:"bi bi-plus fs-6"},null,-1),_t=[bt],gt=["onClick"],mt=t("i",{class:"bi bi-trash"},null,-1),vt=[mt],At={class:"mt-auto overflow-auto"},wt={class:"offcavans-footer","data-bs-dismiss":"offcanvas","aria-label":"Close"},yt={class:"py-3"},xt=D('<footer class="py-5 text-light bg-primary"><ul class="list-unstyled d-flex justify-content-center"><li><a class="pe-3 link-warning" href="#"><i class="bi bi-facebook text-success large-icon"></i></a></li><li><a class="pe-3 link-warning" href="#"><i class="bi bi-instagram text-success large-icon"></i></a></li><li><a class="pe-3 link-warning" href="#"><i class="bi bi-twitter text-success large-icon"></i></a></li></ul></footer>',1),kt={class:"d-flex flex-column text-primary justify-content-center align-items-center p-2 bg-success"},Ct=t("span",{class:"me-4"}," 僅個人作品使用，無任何商業用途 ",-1),Pt={class:"d-flex"},Rt=t("div",null,"Copyright © 2023 星杯冰淇淋|",-1);function Lt(s,o,p,St,c,l){const A=_("loading"),f=_("RouterLink"),w=_("RouterView"),y=_("Router-link");return a(),n(m,null,[i(A,{active:s.loadingShow,"onUpdate:active":o[0]||(o[0]=e=>s.loadingShow=e),"can-cancel":!0,color:c.color,"on-cancel":s.onCancel,"is-full-page":c.fullPage,loader:c.loader},null,8,["active","color","on-cancel","is-full-page","loader"]),t("nav",N,[t("div",j,[O,U,t("div",H,[t("ul",J,[t("li",Y,[i(f,{class:"nav-link",to:"/"},{default:r(()=>[u("首頁")]),_:1})]),t("li",F,[i(f,{class:"nav-link",to:"/products"},{default:r(()=>[u("產品")]),_:1})])]),t("form",{class:"d-flex search-container",onSubmit:o[3]||(o[3]=g(e=>l.searchName(),["prevent"]))},[L(t("input",{class:"form-control me-2 input-container",type:"search",placeholder:"Search","onUpdate:modelValue":o[1]||(o[1]=e=>c.searchText=e),onInput:o[2]||(o[2]=(...e)=>l.search&&l.search(...e)),"aria-label":"Search"},null,544),[[S,c.searchText]]),c.showRecommendations?(a(),n("ul",Q,[(a(!0),n(m,null,v(l.filteredProduct,e=>(a(),n("li",{key:e,class:"list-group-item"},[t("button",{onClick:It=>l.updateSearchQuery(e)},d(e),9,W)]))),128))])):I("",!0),G],32),t("button",K,[Z,t("span",z,d(s.cartNum),1)])])])]),t("div",q,[X,s.carts.length===0?(a(),n("div",$,[tt,t("a",{href:"#",class:"btn btn-to-shop btn-outline bg-success text-white px-7 mt-4",onClick:o[4]||(o[4]=e=>l.routerLook()),"data-bs-dismiss":"offcanvas"},"來去看看")])):(a(),n("div",st,[t("ul",et,[(a(!0),n(m,null,v(s.carts,e=>(a(),n("li",{class:"d-flex align-items-center py-4 px-3 border-bottom",key:e.id},[t("div",ot,[t("img",{src:e.product.imageUrl,style:{width:"72px",height:"72px","object-fit":"cover"}},null,8,at)]),t("div",nt,[t("h4",it,d(e.product.title),1),ct,t("div",lt,[t("div",rt,[t("a",{href:"#",class:"pe-2 text-success",type:"btn",onClick:g(()=>s.adjustmentTicket("-",e),["prevent"])},ht,8,dt),t("span",pt,d(e.qty),1),t("a",{href:"#",class:"ps-2 text-success",type:"btn",onClick:g(()=>s.adjustmentTicket("+",e),["prevent"])},_t,8,ft)]),t("button",{type:"button",class:"btn btn-outline-success",onClick:g(()=>s.deleteItem(e),["prevent"])},vt,8,gt)])])]))),128))]),t("div",At,[t("div",wt,[t("h4",yt," 總共: "+d(s.cartList.a),1),i(f,{class:"btn btn-outline-success btn-lg w-100 mb-3",to:"/cart"},{default:r(()=>[u("購物車")]),_:1}),i(f,{class:"btn btn-success btn-lg w-100 text-white",to:"/form"},{default:r(()=>[u(" 直接購買")]),_:1})])])]))],512),i(w),xt,t("div",kt,[Ct,t("div",Pt,[Rt,i(y,{to:"/login"},{default:r(()=>[u("後台登入")]),_:1})])])],64)}const Vt=x(B,[["render",Lt]]);export{Vt as default};
